# ТЕХНИЧЕСКОЕ ЗАДАНИЕ

## 1. ВВЕДЕНИЕ

**Наименование программы:** Экосистема агротехники в поле для учета и мониторинга зерна (AgroVzor)

**Краткая характеристика области применения:**

Программа предназначена для автоматизации и мониторинга процесса трехзвенной уборки урожая зерновых культур в сельскохозяйственных предприятиях. Система обеспечивает автоматизированное взаимодействие между комбайном, бункером-перегрузчиком и зерновозом, осуществляет учет и контроль перемещения зерна, анализирует потери урожая, мониторит состояние техники и эффективность работы механизаторов.

**Объект применения:**

Программа применяется в следующих типах организаций:
- Крупные и средние агрохолдинги
- Фермерские хозяйства (от 500+ га)
- Зернотрейдеры и элеваторы
- Сервисные компании, предоставляющие агротехнический аутсорсинг
- Производители сельскохозяйственной техники (для OEM-интеграции)

## 2. ОСНОВАНИЯ ДЛЯ РАЗРАБОТКИ

**Документ, на основании которого ведется разработка:**

Программа «Студенческий стартап (VI очередь)» Фонда Содействия Инновациям

**Организация, утвердившая документ:**

Фонд Содействия Инновациям (Фонд Бортника)

**Дата утверждения:**

2024 год

**Наименование и условное обозначение темы разработки:**

Разработка программно-аппаратного комплекса для обеспечения автоматизации взаимодействия комбайна, бункера-перегрузчика и зерновоза в процессе осуществления трехзвенной уборки урожая и мониторинга перемещения зерна между машин.

**Дополнительные основания:**

- Федеральный закон от 26.12.2024 №499-ФЗ «О зерне»
- Указ Президента Российской Федерации от 07.05.2024 г. № 309 «О национальных целях развития Российской Федерации на период до 2030 года» (национальная цель «Цифровая экономика»)
- Программа «Цифровое сельское хозяйство» Минсельхоза РФ
- Письма поддержки от завода ООО "Бонум", Минсельхоз РО и сельхозпредприятий

## 3. НАЗНАЧЕНИЕ РАЗРАБОТКИ

**3.1. Функциональное назначение:**

Программа предназначена для решения следующих задач:

1. **Автоматизация координации техники:**
   - Автоматическое определение оптимальных моментов и пар для передачи зерна
   - Выдача уведомлений-инструкций механизаторам через интерфейсы в кабинах
   - Аппаратно-программная блокировка выгрузки («свой-чужой»)

2. **Учет и мониторинг зерна:**
   - Сквозной учет зерна от момента уборки до передачи на транспортное средство
   - Перекрестная проверка данных на всех стадиях (комбайн → бункер → зерновоз)
   - Автоматическая фиксация всех операций перемещения зерна

3. **Аналитика и прогнозирование:**
   - Расчет потерь зерна при уборке урожая
   - Вибродиагностика техники с детекцией аномалий
   - Мониторинг уровня топлива с выявлением подозрительных случаев кражи
   - Расчет индекса эффективности работы механизаторов
   - Автоматический подбор оптимальной команды для полевых работ

4. **Визуализация и отчетность:**
   - Отображение данных на интерактивных картах
   - Построение графиков и диаграмм аналитических показателей
   - Формирование отчетов для анализа работы техники и персонала
   - Интеграция с государственными системами (ФГИС «Зерно»)

**3.2. Эксплуатационное назначение:**

Программа обеспечивает:
- Снижение потерь зерна на 15-30%
- Оптимизацию логистики и сокращение простоев техники на 20-40%
- Экономию топлива до 500 литров дизеля на сезон для одного комбайна
- Увеличение обрабатываемых площадей на 10-15% без расширения парка машин
- Снижение потребности в дополнительном персонале (экономия до 1 млн рублей за сезон на хозяйство)
- Соответствие требованиям федерального законодательства (ФЗ №499-ФЗ «О зерне»)

## 4. ТРЕБОВАНИЯ К ПРОГРАММЕ ИЛИ ПРОГРАММНОМУ ИЗДЕЛИЮ

### 4.1. Требования к функциональным характеристикам

**4.1.1. Состав выполняемых функций:**

**Управление организационной структурой:**
- Учет сельскохозяйственных предприятий (компаний)
- Управление сотрудниками и их допусками к технике
- Учет парка сельскохозяйственной техники (типы, модели, единицы техники)
- Управление культурами (виды и сорта)

**Планирование и учет полевых работ:**
- Регистрация работ на полях с привязкой к культурам и сортам
- Учет рабочих выездов механизаторов
- Планирование состава команды для выполнения работ

**Сбор и обработка телеметрических данных:**
- Прием регулярных пакетов данных с бортовых модулей техники
- Фиксация координат, веса зерна, уровня заполненности бункера
- Регистрация событий вызова и перегрузки зерна
- Сохранение данных при отсутствии связи с последующей синхронизацией

**Аналитика и мониторинг:**
- Расчет потерь зерна при уборке урожая (на основе анализа уровня заполненности)
- Вибродиагностика техники с детекцией аномалий (порог > 100)
- Мониторинг уровня топлива с выявлением подозрительных случаев кражи (падение > 10%)
- Расчет индекса эффективности работы механизаторов (взвешенная сумма показателей)
- Автоматический подбор оптимальной команды для полевых работ

**Визуализация и отчетность:**
- Отображение данных на интерактивных картах
- Построение графиков и диаграмм аналитических показателей
- Формирование отчетов для анализа работы техники и персонала

**4.1.2. Организация входных данных:**

- Данные от пользователя через веб-интерфейс (JSON через REST API)
- Телеметрические данные от бортовых модулей (JSON через HTTP POST)
- Регулярные пакеты данных каждые 5-10 секунд во время работы техники
- Данные вибрации, топлива, координат, веса и уровня заполненности

**4.1.3. Организация выходных данных:**

- JSON-ответы через REST API
- Визуализация данных в веб-интерфейсе (таблицы, графики, карты)
- Отчеты и аналитические показатели
- Уведомления и оповещения о критических событиях

**4.1.4. Временные характеристики:**

- Время отклика API: не более 500 мс для стандартных запросов
- Время обработки телеметрических пакетов: не более 100 мс
- Время расчета аналитических показателей: не более 2 секунд
- Обновление данных в веб-интерфейсе: в реальном времени или с задержкой не более 5 секунд
- Время синхронизации данных при восстановлении связи: зависит от объема накопленных данных

### 4.2. Требования к надежности

**4.2.1. Обеспечение устойчивого функционирования:**

- Коэффициент готовности системы: не менее 99%
- Время непрерывной работы: 24/7
- Автоматическое восстановление после сбоев: не более 5 минут
- Резервное копирование данных: ежедневно
- Защита от потери данных: транзакционная обработка, логирование всех операций

**4.2.2. Контроль входной и выходной информации:**

- Валидация всех входных данных на корректность формата и значений
- Проверка типов данных и диапазонов значений
- Контроль целостности данных при передаче
- Логирование всех операций для аудита
- Обработка ошибок с возвратом понятных сообщений пользователю

**4.2.3. Время восстановления после отказа:**

- Восстановление после программного сбоя: не более 5 минут
- Восстановление после сбоя базы данных: не более 30 минут (при наличии резервной копии)
- Восстановление после сбоя сети: автоматическая синхронизация при восстановлении связи
- Восстановление работоспособности веб-интерфейса: автоматическое переподключение

**4.2.4. Защита от ошибок:**

- Обработка исключительных ситуаций на всех уровнях приложения
- Защита от SQL-инъекций через параметризованные запросы
- Защита от XSS-атак через валидацию и санитизацию входных данных
- Защита от переполнения буферов
- Мониторинг производительности и автоматическое оповещение о проблемах

### 4.3. Условия эксплуатации

**4.3.1. Условия эксплуатации серверной части:**

- Температура окружающего воздуха: от +10°C до +35°C
- Относительная влажность: от 30% до 80% (без конденсации)
- Атмосферное давление: от 84 до 106,7 кПа
- Электропитание: 220 В ±10%, 50 Гц ±1 Гц
- Требования к помещению: серверная комната с системой кондиционирования

**4.3.2. Условия эксплуатации клиентской части:**

- Температура окружающего воздуха: от +5°C до +40°C
- Относительная влажность: от 20% до 80% (без конденсации)
- Работа в стандартных офисных условиях

**4.3.3. Вид обслуживания:**

- Профилактическое обслуживание: ежемесячно
- Обновление программного обеспечения: по мере необходимости
- Резервное копирование данных: ежедневно автоматически
- Мониторинг работоспособности: круглосуточно

**4.3.4. Необходимое количество и квалификация персонала:**

**Системный администратор:**
- Количество: 1 человек
- Квалификация: опыт работы с Linux/Windows Server, PostgreSQL, Docker, знание сетевых технологий

**Оператор системы:**
- Количество: 1-2 человека (в зависимости от масштаба)
- Квалификация: базовые навыки работы с веб-интерфейсом, понимание сельскохозяйственных процессов

**Техническая поддержка:**
- Количество: по требованию
- Квалификация: знание системы, умение диагностировать проблемы

### 4.4. Требования к составу и параметрам технических средств

**4.4.1. Серверная часть:**

**Минимальные требования:**
- Процессор: 2 ядра, 2.0 GHz (x86_64)
- Оперативная память: 2 GB
- Свободное место на диске: 10 GB
- Сетевая карта: 100 Мбит/с

**Рекомендуемые требования:**
- Процессор: 4 ядра, 2.5 GHz или выше
- Оперативная память: 4-8 GB
- Свободное место на диске: 50 GB (SSD предпочтительно)
- Сетевая карта: 1 Гбит/с

**4.4.2. База данных (PostgreSQL):**

- Минимальные требования: 1 GB RAM, 20 GB дискового пространства
- Рекомендуемые требования: 4 GB RAM, 100 GB дискового пространства (SSD)
- Версия PostgreSQL: 16 или выше

**4.4.3. Клиентская часть:**

- Персональный компьютер, планшет или смартфон
- Процессор: современный процессор с поддержкой JavaScript
- Оперативная память: 512 MB
- Веб-браузер: Chrome 90+, Firefox 88+, Edge 90+, Safari 14+
- Разрешение экрана: не менее 1024x768 пикселей

**4.4.4. Сетевое оборудование:**

- Стабильное интернет-соединение: не менее 1 Мбит/с для комфортной работы
- Рекомендуемая скорость: 10 Мбит/с и выше
- Поддержка HTTP/HTTPS протоколов

**4.4.5. Бортовые модули (для полной функциональности):**

- Датчики веса зерна
- Датчики уровня заполненности бункера
- Датчики вибрации
- Датчики уровня топлива
- GPS/ГЛОНАСС модули
- Радиомодули LoRa (для автономной работы в поле)

### 4.5. Требования к информационной и программной совместимости

**4.5.1. Информационные структуры на входе и выходе:**

- Формат входных данных: JSON (UTF-8)
- Формат выходных данных: JSON (UTF-8)
- Протокол обмена данными: HTTP/HTTPS REST API
- Формат дат и времени: ISO 8601
- Кодировка: UTF-8

**4.5.2. Методы решения:**

- REST архитектура для API
- MVC паттерн для организации кода
- Repository Pattern для доступа к данным
- DTO Pattern для передачи данных между слоями

**4.5.3. Языки программирования:**

- Java 17 (серверная часть)
- TypeScript 5 (клиентская часть)
- SQL (запросы к базе данных)

**4.5.4. Программные средства:**

**Серверная часть:**
- Spring Boot 4.0.0
- Spring Data JPA
- PostgreSQL JDBC драйвер
- SpringDoc OpenAPI 3 (Swagger)
- Lombok
- Docker и Docker Compose

**Клиентская часть:**
- Next.js 16.0.3
- React 19.2.0
- TypeScript 5
- Recharts 3.5.0
- Leaflet 1.9.4
- Radix UI компоненты

**4.5.5. Защита информации и программ:**

- Использование HTTPS для защищенной передачи данных
- Валидация и санитизация всех входных данных
- Защита от SQL-инъекций
- Защита от XSS-атак
- Логирование всех операций для аудита
- Резервное копирование данных
- Возможность интеграции с системами аутентификации и авторизации

### 4.6. Требования к маркировке и упаковке

**4.6.1. Маркировка программного изделия:**

- Наименование программы: AgroVzor
- Версия: указывается в файле версионирования
- Дата выпуска: указывается в документации
- Информация о разработчике

**4.6.2. Варианты и способы упаковки:**

- Распространение через репозиторий Git
- Docker-образы для контейнеризации
- JAR-файлы для серверной части
- Собранные статические файлы для клиентской части
- Документация в формате Markdown и PDF

### 4.7. Требования к транспортированию и хранению

**4.7.1. Условия транспортирования:**

- Транспортирование в виде электронных файлов через сеть интернет
- При транспортировании на физических носителях: защита от механических повреждений, влаги, электромагнитных полей

**4.7.2. Места хранения:**

- Хранение на серверах разработчика
- Хранение в репозиториях Git
- Хранение в облачных хранилищах (при необходимости)

**4.7.3. Условия хранения:**

- Температура: от -10°C до +50°C
- Относительная влажность: от 20% до 80%
- Защита от прямых солнечных лучей
- Защита от электромагнитных полей

**4.7.4. Условия складирования:**

- Складирование в сухих помещениях
- Защита от пыли и загрязнений

**4.7.5. Сроки хранения:**

- Срок хранения исходного кода: неограниченно (при соблюдении условий)
- Срок хранения документации: неограниченно
- Срок хранения резервных копий: не менее 1 года

### 4.8. Специальные требования

**4.8.1. Автономная работа:**

- Система должна обеспечивать работу бортовых модулей без постоянного интернет-соединения
- Данные должны сохраняться локально и синхронизироваться при восстановлении связи
- Использование mesh-сети на радиочастотах (LoRa/868 МГц) с радиусом до 10 км

**4.8.2. Универсальность:**

- Аппаратные модули должны устанавливаться на любую технику (от современных моделей до машин советского производства)
- Поддержка различных производителей техники

**4.8.3. Соответствие законодательству:**

- Соответствие требованиям ФЗ №499-ФЗ «О зерне»
- Возможность интеграции с ФГИС «Зерно»
- Автоматическое формирование юридически значимых документов

**4.8.4. Импортозамещение:**

- Использование только отечественного или доступного программного обеспечения
- Отсутствие зависимости от зарубежных серверов и сервисов
- Полная локализация платформы

## 5. ТРЕБОВАНИЯ К ПРОГРАММНОЙ ДОКУМЕНТАЦИИ

**5.1. Предварительный состав программной документации:**

1. Техническое задание
2. Программа и методика испытаний
3. Пояснительная записка
4. Описание программы
5. Описание применения
6. Руководство системного программиста
7. Руководство программиста
8. Руководство оператора
9. Текст программы (исходный код)
10. Формуляр (при необходимости)

**5.2. Специальные требования к документации:**

- Документация должна быть на русском языке
- Документация должна соответствовать ГОСТ 19.ххх серии
- Документация должна быть актуальной и соответствовать текущей версии программы
- Документация должна содержать примеры использования
- API документация должна быть доступна через Swagger UI

## 6. ТЕХНИКО-ЭКОНОМИЧЕСКИЕ ПОКАЗАТЕЛИ

**6.1. Ориентировочная экономическая эффективность:**

**Для сельхозпредприятий:**
- Снижение потерь зерна на 15-30%: сохранение 3-5 тонн зерна с каждого гектара
- Дополнительный доход: ~15-25 тыс. руб./га (при цене зерна 5-7 руб./кг)
- Экономия топлива: 200-500 л дизеля/сезон на 1 комбайн
- Снижение затрат на персонал: экономия ~500 тыс. - 1 млн руб./сезон (замена 3-5 диспетчеров одним оператором)
- Увеличение обрабатываемых площадей на 10-15% без расширения парка машин

**Окупаемость:**
- Стоимость комплекса: 300-500 тыс. руб.
- Срок окупаемости: 1-2 сезона уборки урожая

**6.2. Предполагаемая годовая потребность:**

- Потенциальный годовой спрос: 5-7 тыс. комплексов (при охвате 10-15% рынка)
- Объем рынка: 1,5-3,5 млрд руб./год (без учёта подписки на ПО и сервисы)
- Целевые потребители: ~2,5-3 тыс. агропредприятий (с посевными площадями от 1 тыс. га)

**6.3. Экономические преимущества разработки:**

**По сравнению с зарубежными аналогами:**
- Доступность на территории России (зарубежные решения заблокированы)
- Адаптация под российские нормы (ФЗ №499-ФЗ «О зерне»)
- Более низкая стоимость подписки и обслуживания
- Локализация и поддержка на русском языке

**По сравнению с отечественными аналогами:**
- Автономная работа без GPS и сотовой связи (уникальная функция)
- Сквозной автоматизированный учёт зерна с перекрёстной проверкой
- AI-аналитика потерь и рекомендации
- Поддержка любой техники (включая старый парк)
- Соответствие госрегулированию (ФЗ-499 «О зерне»)

**Макроэкономический эффект (для РФ):**
- Внедрение на 50% крупных хозяйств → +7-10 млн тонн сохранённого зерна/год
- В денежном выражении: до +150 млрд руб./год

## 7. СТАДИИ И ЭТАПЫ РАЗРАБОТКИ

**7.1. Стадия 1: Техническое задание**

**Содержание работ:**
- Разработка технического задания
- Согласование технического задания
- Утверждение технического задания

**Сроки:** 1 месяц

**Исполнители:** Генеральный директор, команда разработки

**7.2. Стадия 2: Эскизный проект**

**Содержание работ:**
- Разработка архитектуры системы
- Выбор технологий и инструментов
- Проектирование базы данных
- Разработка API спецификации
- Разработка макетов пользовательского интерфейса

**Сроки:** 2 месяца

**Исполнители:** Программист, инженер-электронщик, конструктор

**7.3. Стадия 3: Технический проект**

**Содержание работ:**
- Разработка серверной части (backend)
- Разработка клиентской части (frontend)
- Разработка базы данных
- Разработка API
- Разработка алгоритмов аналитики

**Сроки:** 6 месяцев

**Исполнители:** Программист, инженер-электронщик

**7.4. Стадия 4: Рабочий проект**

**Содержание работ:**
- Интеграция компонентов
- Тестирование функциональности
- Оптимизация производительности
- Разработка документации
- Подготовка к приемочным испытаниям

**Сроки:** 2 месяца

**Исполнители:** Вся команда разработки

**7.5. Стадия 5: Внедрение**

**Содержание работ:**
- Пилотное внедрение на партнерских хозяйствах
- Сбор обратной связи
- Устранение выявленных недостатков
- Обучение пользователей
- Передача в эксплуатацию

**Сроки:** 1 месяц

**Исполнители:** Вся команда разработки, техническая поддержка

**Общий срок разработки:** 12 месяцев

## 8. ПОРЯДОК КОНТРОЛЯ И ПРИЕМКИ

**8.1. Виды испытаний:**

**8.1.1. Предварительные испытания:**
- Проверка работоспособности отдельных модулей
- Проверка соответствия техническому заданию
- Проверка документации

**8.1.2. Приемочные испытания:**
- Функциональное тестирование
- Нагрузочное тестирование
- Тестирование надежности
- Тестирование безопасности
- Тестирование совместимости
- Пользовательское тестирование

**8.1.3. Эксплуатационные испытания:**
- Пилотное внедрение на реальных объектах
- Сбор статистики работы системы
- Анализ эффективности

**8.2. Общие требования к приемке работы:**

**8.2.1. Условия приемки:**
- Полное соответствие техническому заданию
- Успешное прохождение всех видов испытаний
- Наличие полной документации
- Отсутствие критических ошибок
- Соответствие требованиям надежности

**8.2.2. Документы для приемки:**
- Акт приемочных испытаний
- Протоколы испытаний
- Заключение о готовности к эксплуатации
- Документация на программу

**8.2.3. Комиссия по приемке:**
- Представитель заказчика
- Представитель разработчика
- Независимый эксперт (при необходимости)

## ПРИЛОЖЕНИЯ

**Приложение А. Перечень научно-исследовательских и других работ, обосновывающих разработку**

1. Анализ существующих решений для мониторинга сельскохозяйственной техники
2. Исследование потребностей агропредприятий в автоматизации уборки урожая
3. Разработка алгоритмов расчета потерь зерна
4. Разработка алгоритмов детекции аномалий вибрации
5. Разработка алгоритмов детекции кражи топлива
6. Разработка алгоритмов расчета эффективности операторов
7. Проектирование архитектуры автономной mesh-сети для работы в поле

**Приложение Б. Схемы алгоритмов, таблицы, описания, обоснования, расчеты**

1. Схема архитектуры системы
2. Схема взаимодействия компонентов
3. Схема базы данных (ER-диаграмма)
4. Алгоритмы аналитических расчетов
5. Таблицы требований к техническим средствам
6. Расчеты экономической эффективности

**Приложение В. Другие источники разработки**

1. Федеральный закон от 26.12.2024 №499-ФЗ «О зерне»
2. Указ Президента Российской Федерации от 07.05.2024 г. № 309
3. Программа «Цифровое сельское хозяйство» Минсельхоза РФ
4. Письма поддержки от завода ООО "Бонум", Минсельхоз РО и сельхозпредприятий
5. Документация по технологиям: Spring Boot, Next.js, PostgreSQL

