# ОПИСАНИЕ ПРИМЕНЕНИЯ

## 1. НАЗНАЧЕНИЕ ПРОГРАММЫ

**Назначение программы:**

Программа AgroVzor предназначена для автоматизации и мониторинга процесса трехзвенной уборки урожая зерновых культур. Система обеспечивает автоматизированное взаимодействие между комбайном, бункером-перегрузчиком и зерновозом, осуществляет учет и контроль перемещения зерна, анализирует потери урожая, мониторит состояние техники и эффективность работы механизаторов.

**Возможности программы:**

1. **Управление организационной структурой:**
   - Учет сельскохозяйственных предприятий
   - Управление сотрудниками и их допусками к технике
   - Учет парка сельскохозяйственной техники

2. **Планирование и учет полевых работ:**
   - Регистрация работ на полях
   - Учет рабочих выездов механизаторов
   - Планирование состава команды

3. **Сбор и обработка телеметрических данных:**
   - Прием данных с бортовых модулей техники
   - Фиксация координат, веса зерна, уровня заполненности
   - Регистрация событий вызова и перегрузки зерна

4. **Аналитика и мониторинг:**
   - Расчет потерь зерна при уборке урожая
   - Вибродиагностика техники с детекцией аномалий
   - Мониторинг уровня топлива с выявлением кражи
   - Расчет индекса эффективности механизаторов
   - Автоматический подбор команды для полевых работ

5. **Визуализация и отчетность:**
   - Отображение данных на интерактивных картах
   - Построение графиков и диаграмм
   - Формирование отчетов

**Основные характеристики:**

- Автономная работа без GPS и сотовой связи (mesh-сеть на LoRa)
- Сквозной автоматизированный учёт зерна с перекрёстной проверкой
- AI-аналитика потерь и рекомендации
- Поддержка любой техники (включая старый парк)
- Соответствие требованиям ФЗ №499-ФЗ «О зерне»

**Ограничения, накладываемые на область применения:**

1. Программа предназначена для работы с зерновыми, масличными и другими сыпучими культурами
2. Для полноценной работы необходимо наличие бортовых аппаратных модулей, установленных на технику
3. Требуется наличие базы данных PostgreSQL для хранения информации
4. Требуется стабильное интернет-соединение для синхронизации данных (при отсутствии связи данные сохраняются локально)
5. Клиентская часть работает в современных веб-браузерах с поддержкой JavaScript ES6+

## 2. УСЛОВИЯ ПРИМЕНЕНИЯ

### 2.1. Требования к техническим средствам

**Серверная часть:**
- Процессор: 2 ядра, 2.0 GHz (минимально), 4 ядра, 2.5 GHz (рекомендуется)
- Оперативная память: 2 GB (минимально), 4-8 GB (рекомендуется)
- Свободное место на диске: 10 GB (минимально), 50 GB (рекомендуется, SSD предпочтительно)
- Сетевая карта: 100 Мбит/с (минимально), 1 Гбит/с (рекомендуется)
- Операционная система: Linux, Windows Server, macOS (для разработки)

**База данных:**
- PostgreSQL версии 16 или выше
- Минимальные требования: 1 GB RAM, 20 GB дискового пространства
- Рекомендуемые требования: 4 GB RAM, 100 GB дискового пространства (SSD)

**Клиентская часть:**
- Персональный компьютер, планшет или смартфон
- Процессор: современный процессор с поддержкой JavaScript
- Оперативная память: 512 MB
- Веб-браузер: Chrome 90+, Firefox 88+, Edge 90+, Safari 14+
- Разрешение экрана: не менее 1024x768 пикселей

**Сетевое оборудование:**
- Стабильное интернет-соединение: не менее 1 Мбит/с
- Рекомендуемая скорость: 10 Мбит/с и выше
- Поддержка HTTP/HTTPS протоколов

**Бортовые модули (для полной функциональности):**
- Датчики веса зерна
- Датчики уровня заполненности бункера
- Датчики вибрации
- Датчики уровня топлива
- GPS/ГЛОНАСС модули
- Радиомодули LoRa (для автономной работы в поле)

### 2.2. Требования к программным средствам

**Серверная часть:**
- Java Runtime Environment версии 17 или выше
- Spring Boot Framework версии 4.0.0
- Spring Data JPA
- PostgreSQL версии 16 или выше
- Docker и Docker Compose (для контейнеризации)

**Клиентская часть:**
- Современный веб-браузер с поддержкой ES6+
- JavaScript включен в браузере

### 2.3. Общие характеристики входной и выходной информации

**Входная информация:**
- Формат: JSON (UTF-8)
- Протокол: HTTP/HTTPS REST API
- Типы данных: строки, числа, булевы значения, объекты, массивы
- Формат дат: ISO 8601 (YYYY-MM-DDTHH:mm:ss)
- Координаты: десятичные градусы (широта, долгота)

**Выходная информация:**
- Формат: JSON (UTF-8)
- Визуализация: HTML/CSS/JavaScript в веб-браузере
- Графики: через библиотеку Recharts
- Карты: через библиотеку Leaflet

### 2.4. Требования и условия организационного характера

**Персонал:**
- Системный администратор: 1 человек (опыт работы с Linux/Windows Server, PostgreSQL, Docker)
- Оператор системы: 1-2 человека (базовые навыки работы с веб-интерфейсом)
- Техническая поддержка: по требованию

**Обучение:**
- Обучение операторов работе с системой
- Обучение системных администраторов настройке и обслуживанию
- Предоставление документации и инструкций

### 2.5. Требования и условия технического характера

**Условия эксплуатации серверной части:**
- Температура окружающего воздуха: от +10°C до +35°C
- Относительная влажность: от 30% до 80% (без конденсации)
- Атмосферное давление: от 84 до 106,7 кПа
- Электропитание: 220 В ±10%, 50 Гц ±1 Гц
- Помещение: серверная комната с системой кондиционирования

**Условия эксплуатации клиентской части:**
- Температура окружающего воздуха: от +5°C до +40°C
- Относительная влажность: от 20% до 80% (без конденсации)
- Работа в стандартных офисных условиях

### 2.6. Требования и условия технологического характера

**Установка и настройка:**
- Установка серверной части через Docker Compose
- Настройка базы данных PostgreSQL
- Настройка конфигурационных файлов
- Развертывание клиентской части на веб-сервере

**Обслуживание:**
- Профилактическое обслуживание: ежемесячно
- Обновление программного обеспечения: по мере необходимости
- Резервное копирование данных: ежедневно автоматически
- Мониторинг работоспособности: круглосуточно

## 3. ОПИСАНИЕ ЗАДАЧИ

### 3.1. Определение задачи

Задача заключается в создании программно-аппаратного комплекса для автоматизации взаимодействия основных участников трехзвенной уборки урожая (комбайн, бункер-перегрузчик, зерновоз) и обеспечения мониторинга перемещения зерна между машинами.

**Основные подзадачи:**

1. Автоматизация координации действий механизаторов
2. Обеспечение сквозного учета зерна от момента уборки до передачи на транспортное средство
3. Анализ потерь зерна при уборке урожая
4. Мониторинг состояния техники (вибрация, топливо)
5. Оценка эффективности работы механизаторов
6. Визуализация данных и формирование отчетов

### 3.2. Методы решения задачи

**3.2.1. Автоматизация координации:**

- Создание автономной mesh-сети между техникой на основе радиомодулей LoRa
- Автоматическое определение оптимальных моментов и пар для передачи зерна
- Выдача уведомлений-инструкций механизаторам через интерфейсы в кабинах
- Аппаратно-программная блокировка выгрузки («свой-чужой»)

**3.2.2. Учет зерна:**

- Установка датчиков веса и уровня заполненности на технику
- Перекрестная проверка данных на всех стадиях (комбайн → бункер → зерновоз)
- Автоматическая фиксация всех операций перемещения зерна
- Сохранение данных локально при отсутствии связи с последующей синхронизацией

**3.2.3. Анализ потерь:**

- Анализ данных о весе и уровне заполненности бункера
- Сравнение фактических показателей с ожидаемыми
- Расчет процента и веса потерянного зерна
- Выявление причин потерь и выдача рекомендаций

**3.2.4. Мониторинг техники:**

- Анализ данных вибрации с детекцией аномалий
- Мониторинг уровня топлива с выявлением подозрительных случаев кражи
- Предсказательное обслуживание на основе анализа данных

**3.2.5. Оценка эффективности:**

- Анализ движения техники (изменение координат)
- Анализ времени реакции на вызовы
- Анализ эффективности выгрузки
- Расчет комплексного индекса эффективности

**3.2.6. Визуализация:**

- Отображение данных на интерактивных картах
- Построение графиков и диаграмм аналитических показателей
- Формирование отчетов для анализа работы техники и персонала

## 4. ВХОДНЫЕ И ВЫХОДНЫЕ ДАННЫЕ

### 4.1. Входные данные

**4.1.1. Данные от пользователя через веб-интерфейс:**

**Предприятия:**
- Полное наименование (строка, обязательное)
- Сокращенное наименование (строка, обязательное)

**Сотрудники:**
- Имя пользователя (username) - строка, уникальное
- Фамилия, имя, отчество - строки
- Связь с предприятием (UUID)

**Техника:**
- Тип техники (наименование)
- Модель техники (наименование, связь с типом)
- Единица техники (инвентарный номер, связь с моделью и предприятием)

**Культуры:**
- Вид культуры (наименование)
- Сорт культуры (наименование, связь с видом)

**Работы на поле:**
- Связь с предприятием (UUID)
- Связь с сортом культуры
- Даты начала и окончания работ

**Рабочие выезды:**
- Связь с работой на поле
- Связь с сотрудником
- Связь с единицей техники
- Даты начала и окончания выезда

**4.1.2. Телеметрические данные от бортовых модулей:**

**Регулярные пакеты данных:**
- UUID рабочего выезда
- Вес зерна (число, килограммы, опционально)
- Уровень заполненности бункера (число, проценты 0-100, опционально)
- Координаты (широта, долгота)
- Направление движения (число, градусы, опционально)
- Временная метка (ISO 8601 формат)
- Сырые данные (строка, опционально)

**Данные вибрации:**
- UUID рабочего выезда
- Расположение датчика (строка)
- Значения вибрации (строка с числами через запятую)
- Временная метка

**Данные топлива:**
- UUID рабочего выезда
- Уровень топлива (число, проценты 0-100)
- Временная метка

**4.1.3. Формат и кодирование:**

- Формат: JSON (UTF-8)
- Протокол: HTTP/HTTPS REST API
- Метод передачи: HTTP POST/PUT запросы
- Заголовки: Content-Type: application/json

### 4.2. Выходные данные

**4.2.1. Данные, возвращаемые через REST API:**

**Справочные данные:**
- Списки предприятий, сотрудников, техники, культур
- Данные о конкретных объектах по идентификатору
- Формат: JSON массивы или объекты

**Аналитические данные:**
- Оценки потерь зерна (вес, процент, метод расчета)
- Данные вибрации с флагом аномалии
- Данные топлива с флагом подозрения на кражу
- Индексы эффективности операторов
- Результаты подбора команды

**Статусные данные:**
- Коды HTTP-ответов (200 OK, 404 Not Found, 400 Bad Request, 500 Internal Server Error)
- Сообщения об ошибках с описанием

**4.2.2. Данные, отображаемые в веб-интерфейсе:**

**Таблицы:**
- Списки предприятий, сотрудников, техники, работ
- История рабочих выездов
- Список инцидентов и оповещений

**Графики и диаграммы:**
- График потерь зерна во времени
- График уровня топлива
- График эффективности механизаторов
- График вибрации

**Карты:**
- Расположение техники на карте
- Места инцидентов (кражи, поломки)

**Дашборд:**
- Ключевые показатели эффективности (KPI)
- Статусы систем мониторинга
- Критические оповещения

**4.2.3. Формат и кодирование:**

- Формат: JSON (UTF-8) для API
- Визуализация: HTML/CSS/JavaScript в веб-браузере
- Графики: через библиотеку Recharts
- Карты: через библиотеку Leaflet
- Кодировка: UTF-8

## ПРИЛОЖЕНИЯ

**Приложение А. Примеры входных данных**

Содержит примеры JSON-запросов для различных операций (создание предприятия, отправка телеметрии, расчет потерь и т.д.).

**Приложение Б. Примеры выходных данных**

Содержит примеры JSON-ответов от API, примеры отображения данных в веб-интерфейсе.

**Приложение В. Схемы взаимодействия**

Содержит схемы взаимодействия между компонентами системы, диаграммы потоков данных.

**Приложение Г. Иллюстрации интерфейса**

Содержит скриншоты веб-интерфейса, примеры графиков и карт.

